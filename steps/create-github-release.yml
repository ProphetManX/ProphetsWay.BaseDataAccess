parameters:
  PackageType: ''
  GitHubConnectionName: ''
  RepositoryName: ''
  VersionNumber: ''
  IsPreRelease: false


steps:
- task: GitHubRelease@1
  displayName: 'Create GitHub ${{ parameters.PackageType }} Release'
  inputs:
    gitHubConnection: 'ProphetsWay@GitHub'
    repositoryName: '${{parameters.repositoryName}}'
    action: 'create'
    target: '$(Build.SourceVersion)'
    tagSource: 'userSpecifiedTag'
    tag: '${{ parameters.VersionNumber }}'
    title: '${{ parameters.VersionNumber }}'
    releaseNotesFilePath: '$(build.artifactstagingdirectory)/${{ parameters.PackageType }}/changelog.md'
    assets: '$(build.artifactstagingdirectory)/${{ parameters.PackageType }}/*.nupkg'
    isPreRelease: ${{ parameters.IsPreRelease }}
    changeLogCompareToRelease: 'lastFullRelease'
    changeLogType: 'commitBased'
